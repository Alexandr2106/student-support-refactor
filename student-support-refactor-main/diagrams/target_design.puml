@startuml
' === Существующая часть (сокращена) ===
interface IMessengerClient {
    +send(student_id, message)
}

class RequestHandler {
    -messenger: IMessengerClient
    +process(...)
}

RequestHandler --> IMessengerClient

' === Новые компоненты ===
class AppConfigSingleton {
  - data: dict
  + get(key)
  + __new__()
}

class AppConfig {
  - data: dict
  + get(key)
}

class AuditLoggerSingleton {
  - _entries: list
  + log()
  + get_logs()
}

class AuditLogger {
  - _entries: list
  + log()
  + get_logs()
}

class NotificationService {
  - messenger: IMessengerClient
  - config: AppConfig
  - auditor: AuditLogger
  + send_notification(...)
}

NotificationService --> IMessengerClient
NotificationService --> AppConfig
NotificationService --> AuditLogger

note right of NotificationService
  DI-вариант: явные зависимости
end note

note left of AppConfigSingleton
  Singleton: глобальное состояние → 
  проблемы с тестами и параллельностью
end note

@enduml
