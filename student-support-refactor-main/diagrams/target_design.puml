@startuml
package "infrastructure.notifications" {
  [AbstractMessengerFactory] <|-- ProviderAFactory
  [AbstractMessengerFactory] <|-- ProviderBFactory

  interface MessengerClient
  interface Authentication
  interface MessageSerializer
  interface ErrorHandler

  ProviderAFactory --> ProviderAClient : creates
  ProviderAFactory --> ProviderAAuth : creates
  ProviderAFactory --> ProviderASerializer : creates
  ProviderAFactory --> ProviderAErrorHandler : creates

  ProviderBFactory --> ProviderBClient : creates
  ProviderBFactory --> ProviderBAuth : creates
  ProviderBFactory --> ProviderBSerializer : creates
  ProviderBFactory --> ProviderBErrorHandler : creates

  ProviderAClient ..|> MessengerClient
  ProviderAAuth ..|> Authentication
  ProviderASerializer ..|> MessageSerializer
  ProviderAErrorHandler ..|> ErrorHandler

  ProviderBClient ..|> MessengerClient
  ProviderBAuth ..|> Authentication
  ProviderBSerializer ..|> MessageSerializer
  ProviderBErrorHandler ..|> ErrorHandler
}

class AppealService {
  -messenger_factory: AbstractMessengerFactory
  +update_appeal_status(...)
}

AppealService ..> AbstractMessengerFactory : uses
@enduml
