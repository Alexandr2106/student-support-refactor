# Выбор паттерна: Абстрактная фабрика

## Какая изменчивость выделена?
Изменчивость **провайдеров уведомлений**: каждый провайдер требует согласованного набора компонентов (аутентификация, сериализация, обработка ошибок). Нельзя смешивать части от разных провайдеров.

## Почему выбрана «Абстрактная фабрика»?
Потому что:
- Нужно создавать **семейства связанных объектов**.
- Смена провайдера должна быть **атомарной** — либо всё от A, либо всё от B.
- Паттерн обеспечивает **инкапсуляцию создания** и **гарантию согласованности**.

## Как обеспечена подмена и тестируемость?
- Все компоненты зависят от **абстракций** (`IMessengerClient` и др.).
- Фабрика создаёт только **полные семейства**.
- В тестах мы напрямую вызываем фабрику и проверяем типы и поведение — **без реальных сетевых вызовов**.
- Доменная логика (`RequestHandler`) ничего не знает о провайдерах — она работает только с интерфейсом.

Результат: система легко расширяется (добавить ProviderC — просто), безопасна (нет смешения) и тестируема.
